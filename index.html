<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<h1>XML test</h1>


<script>
    // curl -H "ApiKey: a4d61983f16243f0a37d0a955e6ba2a2" https://eventor.orientering.se/api/results/person?personId=154838


    var myHeaders = new Headers();
    myHeaders.set('Access-Control-Request-Headers', 'ApiKey');
    myHeaders.set('ApiKey', 'a4d61983f16243f0a37d0a955e6ba2a2');
    //myHeaders.set('Test', 'foo');

    var myInit = { 
        method: 'GET',
        //headers: { 'ApiKey': 'foo' },
        headers: myHeaders,
        credentials: 'include', 
        //credentials: 'omit',
        mode: 'no-cors'   
    };

    console.dir(myHeaders);

    // Access-Control-Allow-Origin

    function getFoo() {
        //return fetch("./test.png", myInit )
        return fetch("https://eventor.orientering.se/api/results/person?personId=154838", myInit )
            .then(response => response.text())
            // .then(str => (new window.DOMParser()).parseFromString(str, "text/xml"))
            .then(data => console.log(data))
    }
    getFoo();
</script>
</body>
</html>



